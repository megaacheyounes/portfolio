<mat-card *ngIf="dataSource" fxFlexFill>
  <mat-card-header>
    <mat-card-title>
      <mat-icon class="mat-18">show_chart</mat-icon>
      Stats
    </mat-card-title>
  </mat-card-header>

  <mat-card-content fxFlexFill>

    <mat-checkbox (change)='update()' [(ngModel)]='excludeLocals'>
      exclude local request
    </mat-checkbox>

    <div fxLayout="column" class=" mat-zelevation-8" fxFlexFill>

      <table mat-table [dataSource]="dataSource">

        <ng-container matColumnDef="ip">
          <th mat-header-cell *matHeaderCellDef> IP </th>
          <td mat-cell *matCellDef="let element"> {{element.ip}} </td>
        </ng-container>

        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef> date </th>
          <td mat-cell *matCellDef="let element"> {{element.date | formatDate}} </td>
        </ng-container>

        <ng-container matColumnDef="method">
          <th mat-header-cell *matHeaderCellDef> method </th>
          <td mat-cell *matCellDef="let element"> {{element.method + ' ' + element.route ? element.route : ''}} </td>
        </ng-container>


        <ng-container matColumnDef="location">
          <th mat-header-cell *matHeaderCellDef> location </th>
          <td mat-cell *matCellDef="let element"> {{element.location}} </td>
        </ng-container>


        <ng-container matColumnDef="language">
          <th mat-header-cell *matHeaderCellDef> language </th>
          <td mat-cell *matCellDef="let element" matTooltip="element.language">
            {{element.language | formatLanguage}} </td>
        </ng-container>

        <ng-container matColumnDef="browser">
          <th mat-header-cell *matHeaderCellDef> browser </th>
          <td mat-cell *matCellDef="let element"> {{element.browser}} </td>
        </ng-container>

        <ng-container matColumnDef="os">
          <th mat-header-cell *matHeaderCellDef> os </th>
          <td mat-cell *matCellDef="let element"> {{element.os}} </td>
        </ng-container>

        <ng-container matColumnDef="device">
          <th mat-header-cell *matHeaderCellDef> device </th>
          <td mat-cell *matCellDef="let element"> {{element.device}} </td>
        </ng-container>



        <tr mat-header-row *matHeaderRowDef="statsColumns"> </tr>
        <tr mat-row *matRowDef="let row; columns: statsColumns;"></tr>

      </table>
      <mat-paginator #paginator [pageSizeOptions]="[10,25,50]" showFirstLastButton>
      </mat-paginator>
    </div>

  </mat-card-content>

</mat-card>
